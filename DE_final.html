<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Tourism Intelligence Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      padding: 2em;
      background: linear-gradient(115deg, #8fd3f4 0%, #f9f8de 42%, #aec2ff 96%);
      font-family: 'Inter', 'Segoe UI', sans-serif;
      color: #253053;
    }
    .header {
      font-size: 2.3em;
      margin-bottom: 15px;
      font-weight: 700;
      letter-spacing: 0.5px;
      text-shadow: 1px 2px 10px #e3e3f4;
      color: #4059d1;
      display: flex;
      align-items: center;
      gap: 18px;
    }
    .header .fa-globe { color: #f7a541; font-size: 1.3em; }
    form#dashboardForm {
      display: flex;
      align-items: center;
      gap: 25px;
      background: #fff4e4;
      border-radius: 9px;
      padding: 10px 22px;
      box-shadow: 0 3px 9px #e0e2f1;
      margin-bottom: 20px;
    }
    form label, form select, form input[type="number"] { font-size: 1.07em; }
    form select, form input[type="number"] {
      border: 1px solid #b9bceb;
      border-radius: 6px;
      padding: 4px 9px;
      margin: 0 6px;
      background: #f2f5fb;
      color: #222;
    }
    form input.button-primary {
      background: linear-gradient(90deg,#278AEA 60%,#2CEEF2 100%);
      box-shadow: 0 2px 8px #c3eaff77;
      border: none;
      color: white;
      font-weight: bold;
      padding: 7px 17px;
      border-radius: 4px;
      cursor: pointer;
      margin-left: 10px;
    }
    form input.button-primary:hover { background: linear-gradient(90deg,#2CEEF2 30%,#278AEA 100%); }
    .flex { display: flex; gap: 36px; flex-wrap: wrap; }
    .card {
      border-radius: 13px;
      background: linear-gradient(140deg,#fff 80%,#edf7e6 100%);
      padding: 23px 26px;
      box-shadow: 0 4px 19px #cdcbe1b8;
      margin-bottom: 20px;
      min-width: 280px;
      flex-grow: 1;
      animation: fadeIn 0.5s;
      transition: box-shadow 0.13s;
    }
    .card:hover { box-shadow: 0 8px 32px #b0b3dfc8; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(18px);} to { opacity: 1; transform: translateY(0);} }
    .metrics strong {
      display: flex;
      align-items: center;
      color: #4250df;
      font-size: 1.02em;
      font-weight: 600;
    }
    .metrics span {
      margin-left: 12px;
      font-size: 1.15em;
      font-weight: bold;
      color: #22b573;
      text-shadow: 0 1px 0 #eaf7f4;
      transition: color 0.3s;
    }
    .mini-kpi-row {
      display: flex;
      gap: 35px;
      margin-top: 12px;
      font-size: 1.05em;
      color: #517ffb;
    }
    .domestic {
      color: #22b573;
      font-weight: bold;
    }
    .international {
      color: #f44336;
      font-weight: bold;
    }
    .nav-tabs { margin-bottom: 18px; font-size: 1.13em; display: flex; gap: 6px; }
    .nav-tabs a {
      margin-right: 12px;
      color: #8e9bff;
      cursor: pointer;
      text-decoration: none;
      font-weight: 500;
      border-bottom: 3px solid transparent;
      padding-bottom: 3px;
      transition: color 0.2s, border-bottom 0.18s;
    }
    .nav-tabs a.active {
      border-bottom: 3px solid #4250df;
      font-weight: bold;
      color: #4250df;
      background: linear-gradient(90deg,#2CEEF2 10%,#f7f8fc);
    }
    table.hotel-table td, table.hotel-table th {
      padding: 7px 17px;
      text-align: left;
    }
    table.hotel-table {
      width:100%;
      border-collapse: collapse;
      background: #fbfcfe;
      margin: 9px 0;
      border-radius: 7px;
      overflow: hidden;
      box-shadow: 0 1px 9px #edefff33;
    }
    table.hotel-table tr:nth-child(even) { background: #eefdff; }
    table.hotel-table thead th {
      background: linear-gradient(90deg,#278AEA 60%,#2CEEF2 100%);
      color: white;
      font-weight: bold;
    }
    table.hotel-table tbody tr:hover { background: #d5f5ef; cursor: pointer; }
    .theme-Delhi    { --accent: #f44336;  --sec: #ffd600; }
    .theme-Mumbai   { --accent: #009688;  --sec: #ff8a65; }
    .theme-Bangalore{ --accent: #1e88e5;  --sec: #4caf50; }
    .theme-Kolkata  { --accent: #8e24aa;  --sec: #ffd600; }
    .header, .card, .nav-tabs a.active {
      box-shadow: 0 2px 11px #e3e8ffc0;
    }
    .theme-Delhi .header     { color: var(--accent);}
    .theme-Mumbai .header    { color: var(--accent);}
    .theme-Bangalore .header { color: var(--accent);}
    .theme-Kolkata .header   { color: var(--accent);}
    .theme-Delhi .metrics span     { color: var(--accent);}
    .theme-Mumbai .metrics span    { color: var(--accent);}
    .theme-Bangalore .metrics span { color: var(--accent);}
    .theme-Kolkata .metrics span   { color: var(--accent);}
    .card-graph {
      padding: 18px 16px 8px 16px;
      background: linear-gradient(120deg,#eaf6fc 70%,#e7f2e3 100%);
      box-shadow: 0 2px 11px #e3e8ff99;
      border-radius: 13px;
      margin-bottom: 22px;
    }
    .donut-container {
      display: flex;
      align-items: center;
      gap: 16px;
    }
    .donut-labels {
      display: flex;
      flex-direction: column;
      gap: 3px;
    }
  </style>
</head>
<body class="theme-Delhi">
  <div class="header"><i class="fa-solid fa-globe"></i> Tourism Intelligence Dashboard</div>
  
  <form id="dashboardForm">
    <label for="city">Choose Destination:</label>
    <select id="city" name="city" onchange="onCityChange()">
      <option value="Delhi">Delhi</option>
      <option value="Mumbai">Mumbai</option>
      <option value="Bangalore">Bangalore</option>
      <option value="Kolkata">Kolkata</option>
    </select>
    <label for="month">Month:</label>
    <input type="number" id="month" min="1" max="12" value="10" style="width:60px">
    <label for="year">Year:</label>
    <input type="number" id="year" min="2022" max="2100" value="2025" style="width:80px">
    <input class="button-primary" type="submit" value="Update">
  </form>

  <div style="max-width:1180px;margin:auto;">
    <div class="flex">
      <div style="flex:1">
        <div class="card" id="data-date" style="font-weight:600; font-size:1.08em; margin-bottom:10px; color:#4250df">
          Data for: <span id="selected-month">October</span>, <span id="selected-year">2025</span>
        </div>
        <div class="card metrics">
          <strong><i class="fa-solid fa-user-group"></i>&nbsp;Total Arrivals</strong>
          <span id="kpi-arr">243,400</span><br>
          <div class="mini-kpi-row">
            <span><i class="fa-solid fa-user"></i>&nbsp;<span class="domestic" id="kpi-domestic">-</span> Domestic</span>
            <span><i class="fa-solid fa-plane-departure"></i>&nbsp;<span class="international" id="kpi-international">-</span> International</span>
          </div>
          <div class="donut-container" style="margin-top:15px;">
            <canvas id="touristDonut" width="100" height="100"></canvas>
            <div class="donut-labels" style="font-size:0.99em;">
              <span><span style="background:#22b573;display:inline-block;width:10px;height:10px;border-radius:2px;margin-right:4px;"></span>Domestic</span>
              <span><span style="background:#f44336;display:inline-block;width:10px;height:10px;border-radius:2px;margin-right:4px;"></span>International</span>
            </div>
          </div>
          <strong><i class="fa-solid fa-indian-rupee-sign"></i>&nbsp;Total Revenue</strong>
          <span id="kpi-rev">12,200,000</span><br>
          <strong><i class="fa-solid fa-bed"></i>&nbsp;Avg. Hotel Occupancy</strong>
          <span id="kpi-occ">79</span>
        </div>
      </div>
      <div style="flex:2;min-width:320px">
        <div class="nav-tabs">
          <a id="tab-hotels" class="active" onclick="showTab('hotels')"><i class="fa-solid fa-hotel"></i> Hotels Pricing</a>
        </div>
        <div id="tab-content-hotels" class="card">
          <b>Hotels in <span id="hotels-city">destination</span></b>
          <table class="hotel-table" border="0">
            <thead>
              <tr><th>Name</th><th>Stars</th><th>Rooms</th><th>Price/Night</th><th>Occupancy (%)</th></tr>
            </thead>
            <tbody id="hotels-table"></tbody>
          </table>
        </div>
      </div>
    </div>
    <div class="card-graph">
      <b style="font-size:1.15em;">KPI Trends - Last 6 Months</b>
      <canvas id="kpiChart" style="max-width:100%;"></canvas>
    </div>
    <div class="card-graph">
      <b style="font-size:1.11em;">Hotel Occupancy Comparison</b>
      <canvas id="hotelOccChart" style="max-width:100%;"></canvas>
    </div>
  </div>

  <script>
    // Data including Domestic/International
    const cityThemes = {
      Delhi:    "theme-Delhi",
      Mumbai:   "theme-Mumbai",
      Bangalore:"theme-Bangalore",
      Kolkata:  "theme-Kolkata"
    };
    const mockHotels = {
      Delhi: [["The Delhi Grand",5,282,5500,82],["Royal Residency",4,140,3500,75]],
      Mumbai: [["Mumbai Palace",5,442,6500,80],["Marine View",4,201,4800,70]],
      Bangalore: [["Bangalore Residency",4,361,4300,75],["Palace Inn",3,180,2800,67]],
      Kolkata: [["Kolkata Heritage",4,402,4900,77],["Sunshine Hotel",3,122,2100,64]]
    };
    const mockKPIs = {
      Delhi:     {arr:243400, rev:12200000, occ:80, domestic:182500, international:60900},
      Mumbai:    {arr:254100, rev:12570000, occ:78, domestic:189000, international:65100},
      Bangalore: {arr:186400, rev:8300000,  occ:74, domestic:155300, international:31100},
      Kolkata:   {arr:201800, rev:9650000,  occ:76, domestic:161600, international:40200}
    };
    // Trends (last 6 months): also adds domestic/international for demo
    const mockTrends = {
      Delhi: {
        months: [5, 6, 7, 8, 9, 10],
        arrivals: [135000,156000,183000,205000,222000,243400],
        domestic: [110000,128000,146000,168200,171000,182500],
        international: [25000,28000,37000,36800,51000,60900],
        revenue: [6500000,7500000,8900000,9800000,11200000,12200000],
        occupancy: [67,71,76,78,81,80]
      },
      Mumbai: {
        months: [5,6,7,8,9,10],
        arrivals: [141000,168000,191000,225000,238000,254100],
        domestic: [116600,142800,152800,176000,179300,189000],
        international: [24400,25200,38200,49000,58700,65100],
        revenue: [7100000,7950000,9620000,11000000,11800000,12570000],
        occupancy: [65,72,74,75,77,78]
      },
      Bangalore: {
        months: [5,6,7,8,9,10],
        arrivals: [93000,111000,141000,155000,174000,186400],
        domestic: [76000,94900,122400,129700,143100,155300],
        international: [17000,16100,18600,25300,30900,31100],
        revenue: [4250000,5080000,6830000,7580000,8120000,8300000],
        occupancy: [62,69,71,72,73,74]
      },
      Kolkata: {
        months: [5,6,7,8,9,10],
        arrivals: [105000,121000,153000,172000,188000,201800],
        domestic: [84000,97500,127300,137400,145100,161600],
        international: [21000,23500,25700,34600,42900,40200],
        revenue: [5040000,6350000,7500000,8620000,9410000,9650000],
        occupancy: [61,64,69,70,73,76]
      }
    };
    function getHotelOcc(city) {
      return mockHotels[city].map(r => r[4]);
    }
    function getHotelNames(city) {
      return mockHotels[city].map(r => r[0]);
    }
    function monthName(n) {
      return ["January","February","March","April","May","June","July","August","September","October","November","December"][n-1];
    }
    function updateSelectedDate() {
      const monthVal = parseInt(document.getElementById('month').value, 10);
      const yearVal = parseInt(document.getElementById('year').value, 10);
      document.getElementById('selected-month').textContent = monthName(monthVal) || "";
      document.getElementById('selected-year').textContent = yearVal;
    }
    function setKPIs(city) {
      const kpis = mockKPIs[city];
      document.getElementById('kpi-arr').textContent = kpis.arr.toLocaleString();
      document.getElementById('kpi-rev').textContent = kpis.rev.toLocaleString();
      document.getElementById('kpi-occ').textContent = kpis.occ;
      document.getElementById('kpi-domestic').textContent = kpis.domestic.toLocaleString();
      document.getElementById('kpi-international').textContent = kpis.international.toLocaleString();
      drawDonut(city);
    }
    function setHotels(city) {
      const hotels = mockHotels[city];
      const table = document.getElementById('hotels-table');
      table.innerHTML = '';
      hotels.forEach(r => {
        let row = "<tr>";
        r.forEach(col => row += `<td>${col}</td>`);
        row += "</tr>";
        table.innerHTML += row;
      });
    }
    function showTab(tab) {
      document.getElementById('tab-hotels').classList.toggle('active', tab === "hotels");
      document.getElementById('tab-content-hotels').style.display = tab === "hotels" ? "block" : "none";
    }
    function refreshAll() {
      const city = document.getElementById('city').value;
      document.body.className = cityThemes[city] || '';
      document.getElementById('hotels-city').textContent = city;
      setKPIs(city);
      setHotels(city);
      showTab('hotels');
      updateSelectedDate();
      drawCharts(city);
    }
    document.getElementById('dashboardForm').onsubmit = function(e){
      e.preventDefault();
      refreshAll();
    }
    window.onload = refreshAll;
    // Donut chart for tourist type
    let touristDonut;
    function drawDonut(city) {
      const kpi = mockKPIs[city];
      const ctx = document.getElementById('touristDonut').getContext('2d');
      if (touristDonut) touristDonut.destroy();
      touristDonut = new Chart(ctx, {
        type: 'doughnut',
        data: {
          labels: ['Domestic','International'],
          datasets: [{
            data: [kpi.domestic, kpi.international],
            backgroundColor: ['#22b573','#f44336'],
            borderWidth: 1.5
          }]
        },
        options: {
          responsive: false,
          cutout: '65%',
          plugins: {
            legend: {display: false},
            tooltip: {enabled: true}
          }
        }
      });
    }
    // Chart.js for the rest
    let kpiChart, hotelOccChart;
    function drawCharts(city) {
      const trends = mockTrends[city];
      // KPI trending chart
      const ctx = document.getElementById('kpiChart').getContext('2d');
      if (kpiChart) kpiChart.destroy();
      kpiChart = new Chart(ctx, {
        type: 'bar',
        data: {
          labels: trends.months.map(monthName),
          datasets: [
            {
              label: 'Arrivals',
              backgroundColor: '#2CEEF2cc',
              data: trends.arrivals
            },
            {
              label: 'Domestic',
              type: 'line',
              borderColor: '#22b573',
              backgroundColor: '#e5ffe933',
              fill: false,
              data: trends.domestic
            },
            {
              label: 'International',
              type: 'line',
              borderColor: '#f44336',
              backgroundColor: '#feeaea33',
              fill: false,
              data: trends.international
            },
            {
              label: 'Revenue',
              type: 'line',
              borderColor: '#4250df',
              backgroundColor: '#c0cbff55',
              fill: false,
              data: trends.revenue,
              yAxisID: 'y-rev'
            },
            {
              label: 'Occupancy (%)',
              type: 'line',
              borderColor: '#42df85',
              backgroundColor: '#e5ffe933',
              fill: false,
              data: trends.occupancy,
              yAxisID: 'y-occ'
            }
          ]
        },
        options: {
          responsive: true,
          scales: {
            y: { beginAtZero: true, grid: {color:'#e0ecfc'} },
            'y-rev': {
              type: 'linear',
              position: 'right',
              beginAtZero: true,
              grid: { drawOnChartArea: false }
            },
            'y-occ': {
              type: 'linear',
              position: 'right',
              beginAtZero: true,
              min: 50,
              max: 100,
              grid: { drawOnChartArea: false }
            }
          },
          plugins: {
            legend: { display:true },
            title: { display:false }
          }
        }
      });
      // Hotel occupancy chart
      const ctx2 = document.getElementById('hotelOccChart').getContext('2d');
      if (hotelOccChart) hotelOccChart.destroy();
      hotelOccChart = new Chart(ctx2, {
        type: 'bar',
        data: {
          labels: getHotelNames(city),
          datasets: [{
            label: 'Occupancy (%)',
            backgroundColor: '#f7a541cc',
            borderColor:'#278AEA',
            borderWidth:1.5,
            data: getHotelOcc(city)
          }]
        },
        options: {
          responsive: true,
          scales: {
            y: { beginAtZero:true, min: 0, max:100, grid: {color:'#e0ecfc'} },
          },
          plugins: {
            legend: { display:true },
            title: { display:false }
          }
        }
      });
    }
  </script>
</body>
</html>
